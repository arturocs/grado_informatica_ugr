<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>Encestar</title>
	<script src="../js/aframe.min.js"></script>

</head>

<body>
	<script src="../js/lanzamiento.js"></script>
	<a-scene>
		<a-assets>
			<a-asset-item id="tree" src="../modelos/arbol.glb"></a-asset-item>
			<a-asset-item id="nube" src="../modelos/nube.glb"></a-asset-item>
		</a-assets>

		<a-sky id="skybox" color="black"></a-sky>
		<a-sky id="skybox2" color="#8eb9ff" visible="false"></a-sky>

		<a-entity id="modelos" visible="false">
			<a-entity gltf-model="#tree" position="10 1 -4"></a-entity>
			<a-entity gltf-model="#tree" position="-2 1 27" rotation="0, -90,0"></a-entity>
			<a-entity gltf-model="#tree" position="-6 1 10" rotation="0, 90,0"></a-entity>
			<a-entity gltf-model="#tree" position="10 1 15" rotation="0, 180,0"></a-entity>
			<a-entity movimiento>
				<a-entity gltf-model="#nube" position="-9 11 -2"></a-entity>
				<a-entity gltf-model="#nube" position="-2 13 -2"></a-entity>
				<a-entity gltf-model="#nube" position="2 10 -4"></a-entity>
				<a-entity gltf-model="#nube" position="8 11 4"></a-entity>
			</a-entity>


			<a-plane position="0 -1 -4" rotation="-90 0 0" width="100" height="100" color="#54ff68"></a-plane>
			<a-ring id="canasta" color="grey" radius-inner="2.5" radius-outer="3" position="0 5 12" canasta></a-ring>
			<a-sphere id="bola2" radius="0.15" color="red" position="0 0 0" visible="false"></a-sphere>
		</a-entity>

		<a-entity id="cuerpo" position="0 1.6 20">
			<a-camera id="camera" look-controls wasd-controls-enabled="false">
				<a-entity position="0 0 -5" geometry="primitive: ring; radiusInner: 0.13; radiusOuter: 0.2;" material="color: black; shader: flat"
				    cursor="fuse: true">
					<a-animation easing="ease-in" attribute="scale" fill="forwards" from="0.2 0.2 0.2" to="1 1 1" dur="150"></a-animation>
					<a-animation begin="fusing" easing="ease-in" attribute="scale" fill="backwards" from="1 1 1" to="0.2 0.2 0.2" dur="5000"></a-animation>
				</a-entity>
				<a-entity id="bola" geometry="primitive: sphere; radius:0.15" position="0 0 -1" material="color: red; opacity: 0.5" visible="false"></a-entity>
				<a-text id="txt" value="Encesta la pelota en el aro" position="-0.5 0 -1.5"></a-text>
			</a-camera>
		</a-entity>
		</a-entity>

	</a-scene>
</body>

<script>
	//lanzamiento

	var bola = document.querySelector('#bola')
	var bola2 = document.querySelector('#bola2')
	var modelos = document.querySelector('#modelos')
	var txt = document.querySelector("#txt")
	var texto = setInterval(function () {
		bola.setAttribute('visible', "true")
		txt.setAttribute("visible", "false")
		skybox.setAttribute("visible", "false")
		skybox2.setAttribute("visible", "true")
		modelos.setAttribute("visible", "true")
		clearInterval(texto)
	}, 2500);
	var lanzamiento = setInterval(function () {
		bola.setAttribute('visible', "false")
		bola2.setAttribute('proyectil', 'activo: true')
		clearInterval(lanzamiento)
	}, 5000);
</script>

</html>